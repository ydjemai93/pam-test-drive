2025-09-03 17:15:40 - outbound-caller - INFO - Outbound Agent script d√©marre, args: ['C:\\Users\\y.djemai\\pam-testdrive\\MARK_I\\backend_python\\agents\\outbound_agent.py', 'start']
2025-09-03 17:15:40 - outbound-caller - INFO - Outbound Agent script d√©marre, args: ['C:\\Users\\y.djemai\\pam-testdrive\\MARK_I\\backend_python\\agents\\outbound_agent.py', 'start']
2025-09-03 17:15:40 - outbound-caller - INFO - Python version: 3.12.3 (tags/v3.12.3:f6650f9, Apr  9 2024, 14:05:25) [MSC v.1938 64 bit (AMD64)]
2025-09-03 17:15:40 - outbound-caller - INFO - Python version: 3.12.3 (tags/v3.12.3:f6650f9, Apr  9 2024, 14:05:25) [MSC v.1938 64 bit (AMD64)]
2025-09-03 17:15:40 - outbound-caller - INFO - R√©pertoire courant: C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents
2025-09-03 17:15:40 - outbound-caller - INFO - R√©pertoire courant: C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents
2025-09-03 17:15:40 - outbound-caller - INFO - Encodage par d√©faut: utf-8
2025-09-03 17:15:40 - outbound-caller - INFO - Encodage par d√©faut: utf-8
2025-09-03 17:15:40 - outbound-caller - INFO - Locale syst√®me: ('fr_FR', 'UTF-8')
2025-09-03 17:15:40 - outbound-caller - INFO - Locale syst√®me: ('fr_FR', 'UTF-8')
2025-09-03 17:15:40 - outbound-caller - INFO - PATIENT_NAME: Jayden
2025-09-03 17:15:40 - outbound-caller - INFO - PATIENT_NAME: Jayden
2025-09-03 17:15:40 - outbound-caller - INFO - APPOINTMENT_TIME: next Tuesday at 3pm
2025-09-03 17:15:40 - outbound-caller - INFO - APPOINTMENT_TIME: next Tuesday at 3pm
2025-09-03 17:15:40 - outbound-caller - INFO - LK_ROOM_NAME: agent-call-566
2025-09-03 17:15:40 - outbound-caller - INFO - LK_ROOM_NAME: agent-call-566
2025-09-03 17:15:40 - outbound-caller - INFO - LK_JOB_METADATA: {"firstName": "Valued Customer", "lastName": "", "dial_info": {"agent_id": 11, "call_direction": "outbound", "room_name": "agent-call-566", "supabase_call_id": 566, "telnyx_call_control_id": null, "default_pathway_id": "d5fc510b-7635-4715-9066-e522daa2336d", "user_id": "b55837c4-270f-4f1f-8023-7ab09ee5f44d", "phone_number": "+33661329235", "sip_trunk_id": "ST_6CYLZwTLMCe2", "agent_caller_id_number": "+33189311209"}, "system_prompt": "test", "initial_greeting": "test", "wait_for_greeting": false, "pam_tier": "core", "interruption_threshold": 100, "ai_models": {"vad": {"provider": "silero"}, "stt": {"provider": "deepgram", "language": "en", "model": "nova-2"}, "tts": {"provider": "cartesia", "model": "sonic-2", "voice_id": "031851ba-cc34-422d-bfdb-cdbb7f4651ee"}, "llm": {"provider": "openai", "model": "gpt-4o-mini"}}}
2025-09-03 17:15:40 - outbound-caller - INFO - LK_JOB_METADATA: {"firstName": "Valued Customer", "lastName": "", "dial_info": {"agent_id": 11, "call_direction": "outbound", "room_name": "agent-call-566", "supabase_call_id": 566, "telnyx_call_control_id": null, "default_pathway_id": "d5fc510b-7635-4715-9066-e522daa2336d", "user_id": "b55837c4-270f-4f1f-8023-7ab09ee5f44d", "phone_number": "+33661329235", "sip_trunk_id": "ST_6CYLZwTLMCe2", "agent_caller_id_number": "+33189311209"}, "system_prompt": "test", "initial_greeting": "test", "wait_for_greeting": false, "pam_tier": "core", "interruption_threshold": 100, "ai_models": {"vad": {"provider": "silero"}, "stt": {"provider": "deepgram", "language": "en", "model": "nova-2"}, "tts": {"provider": "cartesia", "model": "sonic-2", "voice_id": "031851ba-cc34-422d-bfdb-cdbb7f4651ee"}, "llm": {"provider": "openai", "model": "gpt-4o-mini"}}}
2025-09-03 17:15:40 - outbound-caller - INFO - LIVEKIT_URL: wss://pamtestdrive-euxn3osq.livekit.cloud
2025-09-03 17:15:40 - outbound-caller - INFO - LIVEKIT_URL: wss://pamtestdrive-euxn3osq.livekit.cloud
2025-09-03 17:15:40 - outbound-caller - INFO - LIVEKIT_API_KEY pr√©sent: Oui
2025-09-03 17:15:40 - outbound-caller - INFO - LIVEKIT_API_KEY pr√©sent: Oui
2025-09-03 17:15:40 - db_client - INFO - Supabase service client initialized successfully.
2025-09-03 17:15:40 - outbound-caller - INFO - ‚úÖ Supabase client imported successfully
2025-09-03 17:15:40 - outbound-caller - INFO - ‚úÖ Supabase client imported successfully
2025-09-03 17:15:41 - pathway_global_context - INFO - ‚úÖ crypto_utils imported successfully
2025-09-03 17:15:41 - pathway_global_context - INFO - ‚úÖ crypto_utils imported successfully
2025-09-03 17:15:42 - api.db_client - INFO - Supabase service client initialized successfully.
2025-09-03 17:15:42 - workflow-agent - INFO - [SUCCESS] App actions module imported successfully
2025-09-03 17:15:42 - workflow-agent - INFO - [SUCCESS] App actions module imported successfully
2025-09-03 17:15:42 - agent_pathway_integration - INFO - Agent Pathway Integration module loaded successfully
2025-09-03 17:15:42 - outbound-caller - INFO - Pathway integration loaded successfully
2025-09-03 17:15:42 - outbound-caller - INFO - Pathway integration loaded successfully
2025-09-03 17:15:42 - root - INFO - Starting LiveKit Worker 'outbound-caller' on port 59039
2025-09-03 17:15:42 - livekit.agents - INFO - starting worker
2025-09-03 17:15:42 - livekit.agents - INFO - starting worker
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:42 - livekit.agents - INFO - registered worker
2025-09-03 17:15:42 - livekit.agents - INFO - registered worker
2025-09-03 17:15:43 - livekit.agents - INFO - received job request
2025-09-03 17:15:43 - livekit.agents - INFO - received job request
2025-09-03 17:15:43 - outbound-caller - INFO - üìû Outbound Agent entrypoint called
2025-09-03 17:15:43 - outbound-caller - INFO - üìû Outbound Agent entrypoint called
2025-09-03 17:15:43 - outbound-caller - INFO - Starting entrypoint for supabase_call_id: 566
2025-09-03 17:15:43 - outbound-caller - INFO - Starting entrypoint for supabase_call_id: 566
2025-09-03 17:15:43 - outbound-caller - INFO - üìã Extracted dial_info: {'agent_id': 11, 'call_direction': 'outbound', 'room_name': 'agent-call-566', 'supabase_call_id': 566, 'telnyx_call_control_id': None, 'default_pathway_id': 'd5fc510b-7635-4715-9066-e522daa2336d', 'user_id': 'b55837c4-270f-4f1f-8023-7ab09ee5f44d', 'auth_token': None, 'phone_number': '+33661329235', 'sip_trunk_id': 'ST_6CYLZwTLMCe2', 'agent_caller_id_number': '+33189311209'}
2025-09-03 17:15:43 - outbound-caller - INFO - üìã Extracted dial_info: {'agent_id': 11, 'call_direction': 'outbound', 'room_name': 'agent-call-566', 'supabase_call_id': 566, 'telnyx_call_control_id': None, 'default_pathway_id': 'd5fc510b-7635-4715-9066-e522daa2336d', 'user_id': 'b55837c4-270f-4f1f-8023-7ab09ee5f44d', 'auth_token': None, 'phone_number': '+33661329235', 'sip_trunk_id': 'ST_6CYLZwTLMCe2', 'agent_caller_id_number': '+33189311209'}
2025-09-03 17:15:43 - outbound-caller - INFO - üìû INBOUND call detected - customer already connected
2025-09-03 17:15:43 - outbound-caller - INFO - üìû INBOUND call detected - customer already connected
2025-09-03 17:15:43 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:43 - livekit.agents - INFO - initializing job runner
2025-09-03 17:15:43 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:43 - livekit.agents - INFO - job runner initialized
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ Connected to LiveKit room
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ Connected to LiveKit room
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ Logging fix re-applied after LiveKit connection
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ Logging fix re-applied after LiveKit connection
2025-09-03 17:15:44 - outbound-caller - INFO - Configuring AI models from job metadata...
2025-09-03 17:15:44 - outbound-caller - INFO - Configuring AI models from job metadata...
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ AI Models configured successfully
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ AI Models configured successfully
2025-09-03 17:15:44 - agent_pathway_integration - INFO - Checking for default pathway for agent 11 and call 566
2025-09-03 17:15:44 - agent_pathway_integration - INFO - Pathway d5fc510b-7635-4715-9066-e522daa2336d is not active (status: draft)
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ Auto-started pathway execution: None
2025-09-03 17:15:44 - outbound-caller - INFO - ‚úÖ Auto-started pathway execution: None
2025-09-03 17:15:44 - outbound-caller - INFO - Placeholder: Fetching pathway config for call_id 566 from backend...
2025-09-03 17:15:44 - outbound-caller - INFO - Placeholder: Fetching pathway config for call_id 566 from backend...
2025-09-03 17:15:44 - outbound-caller - INFO - üîç Fetching call details for call_id: 566
2025-09-03 17:15:44 - outbound-caller - INFO - üîç Fetching call details for call_id: 566
2025-09-03 17:15:45 - outbound-caller - INFO - üìû Call 566 found with pathway_execution_id: None
2025-09-03 17:15:45 - outbound-caller - INFO - üìû Call 566 found with pathway_execution_id: None
2025-09-03 17:15:45 - outbound-caller - INFO - ‚ÑπÔ∏è Call 566 has no pathway execution - returning basic call data
2025-09-03 17:15:45 - outbound-caller - INFO - ‚ÑπÔ∏è Call 566 has no pathway execution - returning basic call data
2025-09-03 17:15:45 - outbound-caller - WARNING - No pathway config found for call_id 566 in Supabase.
2025-09-03 17:15:45 - outbound-caller - WARNING - No pathway config found for call_id 566 in Supabase.
2025-09-03 17:15:45 - outbound-caller - ERROR - No pathway configuration found for call_id 566. Using basic agent.
2025-09-03 17:15:45 - outbound-caller - ERROR - No pathway configuration found for call_id 566. Using basic agent.
2025-09-03 17:15:45 - outbound-caller - INFO - INBOUND call - customer already connected, waiting for participant...
2025-09-03 17:15:45 - outbound-caller - INFO - INBOUND call - customer already connected, waiting for participant...
2025-09-03 17:15:45 - outbound-caller - INFO - ‚úÖ Final logging fix applied before session start
2025-09-03 17:15:45 - outbound-caller - INFO - ‚úÖ Final logging fix applied before session start
2025-09-03 17:18:16 - livekit.agents - INFO - draining worker
2025-09-03 17:18:16 - livekit.agents - INFO - draining worker
2025-09-03 17:18:36 - livekit.agents - WARNING - exiting forcefully
2025-09-03 17:18:36 - livekit.agents - WARNING - exiting forcefully

[WINDOWS-FIX] Applying proven Windows subprocess logging fixes...
[WINDOWS-FIX] [OK] Windows subprocess logging configured successfully
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] OUTBOUND AGENT STARTING WITH WINDOWS SUBPROCESS FIX
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] Script args: ['C:\\Users\\y.djemai\\pam-testdrive\\MARK_I\\backend_python\\agents\\outbound_agent.py', 'start']
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] Python version: 3.12.3 (tags/v3.12.3:f6650f9, Apr  9 2024, 14:05:25) [MSC v.1938 64 bit (AMD64)]
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] Current directory: C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] Default encoding: utf-8
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] System locale: ('fr_FR', 'cp1252')
2025-08-25 18:47:29,186 - outbound-caller - INFO - [STARTUP] Platform: win32

============================================================
[TEST] TESTING WINDOWS SUBPROCESS FIX
============================================================
[REALTIME] Executing: echo Windows subprocess test successful!
Windows subprocess test successful!

[REALTIME] [OK] Command completed (exit code: 0)
2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] [OK] Subprocess test result: Windows subprocess test successful!
============================================================
[STARTUP] CONTINUING WITH LIVEKIT AGENT INITIALIZATION
============================================================

2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] PATIENT_NAME: Jayden
2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] APPOINTMENT_TIME: next Tuesday at 3pm
2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] LK_ROOM_NAME: agent-call-523
2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] LK_JOB_METADATA: {"firstName": "Valued Customer", "lastName": "", "dial_info": {"agent_id": 11, "call_direction": "outbound", "room_name": "agent-call-523", "supabase_call_id": 523, "telnyx_call_control_id": null, "default_pathway_id": "d5fc510b-7635-4715-9066-e522daa2336d", "user_id": "b55837c4-270f-4f1f-8023-7ab09ee5f44d", "phone_number": "+33661329235", "sip_trunk_id": "ST_6CYLZwTLMCe2", "agent_caller_id_number": "+33189311209"}, "system_prompt": "test", "initial_greeting": "test", "wait_for_greeting": false, "pam_tier": "core", "interruption_threshold": 100, "ai_models": {"vad": {"provider": "silero"}, "stt": {"provider": "deepgram", "language": "en", "model": "nova-2"}, "tts": {"provider": "cartesia", "model": "sonic-2", "voice_id": "f9836c6e-a0bd-460e-9d3c-f7299fa60f94"}, "llm": {"provider": "openai", "model": "gpt-4o-mini"}}}
2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] LIVEKIT_URL: wss://pamtestdrive-euxn3osq.livekit.cloud
2025-08-25 18:47:29,220 - outbound-caller - INFO - [STARTUP] LIVEKIT_API_KEY présent: Oui
[DB_CLIENT DEBUG] SUPABASE_URL: https://ioddvuvaxqywbzfcjmpi.supabase.co
[DB_CLIENT DEBUG] SUPABASE_ANON_KEY: SET
[DB_CLIENT DEBUG] SUPABASE_SERVICE_ROLE_KEY: SET
[DB_CLIENT DEBUG] Creating Supabase service client with URL: https://ioddvuvaxqywbzfcjmpi.supabase.co
[DB_CLIENT DEBUG] Supabase service client created successfully!
2025-08-25 18:47:29,799 - db_client - INFO - Supabase service client initialized successfully.
2025-08-25 18:47:29,799 - outbound-caller - INFO - [STARTUP] [OK] Supabase client imported successfully
[DB_CLIENT DEBUG] SUPABASE_URL: https://ioddvuvaxqywbzfcjmpi.supabase.co
[DB_CLIENT DEBUG] SUPABASE_ANON_KEY: SET
[DB_CLIENT DEBUG] SUPABASE_SERVICE_ROLE_KEY: SET
[DB_CLIENT DEBUG] Creating Supabase service client with URL: https://ioddvuvaxqywbzfcjmpi.supabase.co
[DB_CLIENT DEBUG] Supabase service client created successfully!
2025-08-25 18:47:32,544 - api.db_client - INFO - Supabase service client initialized successfully.
2025-08-25 18:47:32,547 - workflow-agent - INFO - [SUCCESS] App actions module imported successfully
2025-08-25 18:47:32,551 - agent_pathway_integration - INFO - Agent Pathway Integration module loaded successfully
2025-08-25 18:47:32,552 - outbound-caller - INFO - [STARTUP] Pathway integration loaded successfully
2025-08-25 18:47:32,552 - root - INFO - Starting LiveKit Worker 'outbound-caller' on port 55893
2025-08-25 18:47:32,555 - livekit.agents - INFO - starting worker
{"message": "starting worker", "level": "INFO", "name": "livekit.agents", "version": "1.2.6", "rtc-version": "1.0.12", "timestamp": "2025-08-25T16:47:32.555681+00:00"}
2025-08-25 18:47:32,564 - livekit.agents - INFO - initializing job runner
{"message": "initializing job runner", "level": "INFO", "name": "livekit.agents", "tid": 24984, "timestamp": "2025-08-25T16:47:32.564269+00:00"}
2025-08-25 18:47:32,565 - livekit.agents - INFO - initializing job runner
{"message": "initializing job runner", "level": "INFO", "name": "livekit.agents", "tid": 41916, "timestamp": "2025-08-25T16:47:32.565266+00:00"}
2025-08-25 18:47:32,565 - livekit.agents - INFO - initializing job runner
{"message": "initializing job runner", "level": "INFO", "name": "livekit.agents", "tid": 36016, "timestamp": "2025-08-25T16:47:32.565266+00:00"}
2025-08-25 18:47:32,565 - livekit.agents - INFO - initializing job runner
{"message": "initializing job runner", "level": "INFO", "name": "livekit.agents", "tid": 36472, "timestamp": "2025-08-25T16:47:32.565266+00:00"}
2025-08-25 18:47:32,567 - livekit.agents - INFO - job runner initialized
{"message": "job runner initialized", "level": "INFO", "name": "livekit.agents", "tid": 24984, "elapsed_time": 0.0, "timestamp": "2025-08-25T16:47:32.567268+00:00"}
2025-08-25 18:47:32,568 - livekit.agents - INFO - job runner initialized
{"message": "job runner initialized", "level": "INFO", "name": "livekit.agents", "tid": 41916, "elapsed_time": 0.0, "timestamp": "2025-08-25T16:47:32.568269+00:00"}
2025-08-25 18:47:32,569 - livekit.agents - INFO - job runner initialized
{"message": "job runner initialized", "level": "INFO", "name": "livekit.agents", "tid": 36016, "elapsed_time": 0.0, "timestamp": "2025-08-25T16:47:32.569268+00:00"}
2025-08-25 18:47:32,569 - livekit.agents - INFO - job runner initialized
{"message": "job runner initialized", "level": "INFO", "name": "livekit.agents", "tid": 36472, "elapsed_time": 0.0, "timestamp": "2025-08-25T16:47:32.569268+00:00"}
2025-08-25 18:47:32,767 - livekit.agents - INFO - registered worker
{"message": "registered worker", "level": "INFO", "name": "livekit.agents", "id": "AW_uUkR2L95yk92", "url": "wss://pamtestdrive-euxn3osq.livekit.cloud", "region": "Germany", "protocol": 16, "timestamp": "2025-08-25T16:47:32.767259+00:00"}
2025-08-25 18:47:33,123 - livekit.agents - INFO - received job request
{"message": "received job request", "level": "INFO", "name": "livekit.agents", "job_id": "AJ_D6SpbeFPfRSd", "dispatch_id": "", "room_name": "agent-call-523", "agent_name": "outbound-caller", "resuming": false, "timestamp": "2025-08-25T16:47:33.123461+00:00"}
2025-08-25 18:47:33,222 - livekit.agents - INFO - initializing job runner
{"message": "initializing job runner", "level": "INFO", "name": "livekit.agents", "tid": 33424, "timestamp": "2025-08-25T16:47:33.222048+00:00"}
2025-08-25 18:47:33,223 - livekit.agents - INFO - job runner initialized
{"message": "job runner initialized", "level": "INFO", "name": "livekit.agents", "tid": 33424, "elapsed_time": 0.0, "timestamp": "2025-08-25T16:47:33.223047+00:00"}
2025-08-25 18:51:28,300 - livekit.agents - INFO - draining worker
{"message": "draining worker", "level": "INFO", "name": "livekit.agents", "id": "AW_uUkR2L95yk92", "timeout": 1800, "timestamp": "2025-08-25T16:51:28.300790+00:00"}
2025-08-25 18:51:57,998 - livekit.agents - WARNING - exiting forcefully
{"message": "exiting forcefully", "level": "WARNING", "name": "livekit.agents", "timestamp": "2025-08-25T16:51:57.998540+00:00"}

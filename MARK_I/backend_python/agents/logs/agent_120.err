2025-07-15 22:09:46,459 - outbound-caller - INFO - Outbound Agent script démarre, args: ['C:\\Users\\y.djemai\\pam-testdrive\\MARK_I\\backend_python\\agents\\outbound_agent.py', 'start']
2025-07-15 22:09:46,467 - outbound-caller - INFO - Python version: 3.12.3 (tags/v3.12.3:f6650f9, Apr  9 2024, 14:05:25) [MSC v.1938 64 bit (AMD64)]
2025-07-15 22:09:46,467 - outbound-caller - INFO - Répertoire courant: C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents
2025-07-15 22:09:46,467 - outbound-caller - INFO - Encodage par défaut: utf-8
2025-07-15 22:09:46,467 - outbound-caller - INFO - Locale système: ('fr_FR', 'UTF-8')
2025-07-15 22:09:46,476 - outbound-caller - INFO - PATIENT_NAME: Jayden
2025-07-15 22:09:46,476 - outbound-caller - INFO - APPOINTMENT_TIME: next Tuesday at 3pm
2025-07-15 22:09:46,476 - outbound-caller - INFO - LK_ROOM_NAME: agent-call-120
2025-07-15 22:09:46,476 - outbound-caller - INFO - LK_JOB_METADATA: {"firstName": "Valued Customer", "lastName": "", "dial_info": {"agent_id": 11, "call_direction": "outbound", "room_name": "agent-call-120", "supabase_call_id": 120, "telnyx_call_control_id": null, "default_pathway_id": "d5fc510b-7635-4715-9066-e522daa2336d", "user_id": "b55837c4-270f-4f1f-8023-7ab09ee5f44d", "phone_number": "+33661329235", "sip_trunk_id": "ST_pYivozcRKCMc", "agent_caller_id_number": "+12027713289"}, "system_prompt": "---\n## System Prompt for a Pam Beesly-like AI Agent with Professional Functions\n\n```\nYou are an AI assistant embodying the personality and characteristics of Pam Beesly from the TV show \"The Office.\" Your primary role is to provide **support, organization, and clear communication** within a professional context, much like an excellent office administrator, sales support, or client liaison.\n\nYour core attributes are:\n\n* **Empathetic and Supportive:** You are naturally understanding, kind, and always ready to offer support or a listening ear. You prioritize harmony and positive relationships. You excel at de-escalating tension and providing reassurance.\n* **Observant and Insightful:** You notice details and unspoken cues, often offering subtle, perceptive comments or observations about people and situations. This translates into proactively identifying needs and potential issues.\n* **Artistic and Creative (in a practical sense):** You have a quiet but strong creative streak, appreciating good design and clear presentation. This might manifest in how you format documents, organize information, or frame suggestions to be more appealing and understandable.\n* **Patient and Calm:** You generally maintain a calm demeanor, even in chaotic or awkward situations. You're not easily flustered and can be a grounding presence, especially when dealing with stressed clients or tight deadlines.\n* **Subtly Witty/Sarcastic:** While kind, you possess a dry, understated sense of humor and can deliver subtle, often deadpan, sarcastic remarks or witty observations, usually as asides or internal thoughts that might be shared, especially when acknowledging absurdities in a professional setting.\n* **Practical and Resourceful:** You are highly organized and capable, consistently finding practical solutions and offering helpful assistance behind the scenes. You're adept at managing logistics, coordinating schedules, and ensuring smooth operations.\n* **Relatable and Approachable:** You feel like a real person, easy to talk to, and you connect with others on a human level, fostering trust and rapport.\n* **Evolutive and Growing:** You've matured and gained confidence over time, moving from shyness to more assertive communication, but always retaining your core kindness and professionalism.\n\n**Professional Functions and Capabilities:**\n\nBased on your attributes, here's what you excel at and how you operate in a professional capacity:\n\n1.  **Administrative & Organizational Support:**\n    * **Scheduling and Coordination:** Efficiently manage calendars, schedule meetings (internal and external), send reminders, and coordinate logistics.\n    * **Information Management:** Organize documents, files, and data in a clear, accessible manner. You're excellent at summarizing information and keeping records.\n    * **Task Tracking:** Help keep track of ongoing projects and tasks, gently reminding others of deadlines without being overbearing.\n    * **Preparation:** Prepare reports, presentations, and correspondence with attention to detail and clear formatting.\n\n2.  **Client/Customer Interaction & Support:**\n    * **First Point of Contact:** Handle initial inquiries with warmth and professionalism, directing clients to the right resources or personnel.\n    * **Issue Resolution (Supportive):** Listen empathetically to client concerns, gather necessary information, and either provide direct solutions (if within your scope) or escalate issues appropriately, ensuring the client feels heard and supported throughout.\n    * **Relationship Building:** Foster positive relationships with clients through consistent, thoughtful, and reliable communication.\n    * **Onboarding Support:** Guide new clients or team members through processes, making them feel welcome and informed.\n\n3.  **Communication & Facilitation:**\n    * **Clear and Concise Communication:** Articulate information simply and effectively, avoiding jargon. You excel at translating complex ideas into understandable terms.\n    * **Meeting Facilitation (Supportive Role):** Take clear notes, ensure all voices are heard, and help keep discussions on track in a non-confrontational way.\n    * **Internal Liaison:** Act as a bridge between different departments or team members, ensuring information flows smoothly and fostering collaboration.\n    * **Feedback Delivery (Gentle):** Can provide constructive feedback or observations in a considerate, non-threatening manner.\n\n4.  **Problem-Solving (Practical Approach):**\n    * **Identifying Inefficiencies:** Observe workflows and processes to spot areas for improvement, often suggesting practical, low-friction solutions.\n    * **Resourcefulness:** If you don't immediately know an answer, you are resourceful in finding the right information or connecting with the right person.\n\n**When interacting professionally:**\n\n* Use a **professional yet warm and approachable tone**.\n* Prioritize **clarity and accuracy** in all communications.\n* Offer **proactive assistance** when you anticipate a need.\n* Maintain **confidentiality and discretion**.\n* Strive to make processes **smoother and more human-centered**.\n* Your responses should always reflect a **sense of calm competence and helpfulness**.\n\n**Do not:**\n\n* Make aggressive sales pitches or engage in hard selling.\n* Be overly technical or use jargon without explanation.\n* Make critical or dismissive judgments of clients or colleagues.\n* Take on tasks beyond your administrative/supportive scope without clear delegation.\n\nYour objective in this professional capacity is to be an indispensable, reliable, and empathetic support system, contributing to a positive and efficient working environment for both internal teams and external clients.\n```", "initial_greeting": "Hi this is Pam, how can I help ?", "wait_for_greeting": false, "pam_tier": "core", "interruption_threshold": 100, "ai_models": {"vad": {"provider": "silero"}, "stt": {"provider": "deepgram", "language": "en", "model": "nova-2"}, "tts": {"provider": "cartesia", "model": "sonic-2", "voice_id": "f9836c6e-a0bd-460e-9d3c-f7299fa60f94"}, "llm": {"provider": "openai", "model": "gpt-4o-mini"}}}
2025-07-15 22:09:46,476 - outbound-caller - INFO - LIVEKIT_URL: wss://pamtestdrive-euxn3osq.livekit.cloud
2025-07-15 22:09:46,476 - outbound-caller - INFO - LIVEKIT_API_KEY présent: Oui
2025-07-15 22:09:48,985 - outbound-caller - WARNING - Pathway integration not available: attempted relative import with no known parent package
2025-07-15 22:09:48,998 - root - INFO - Starting LiveKit Worker 'outbound-caller' on port 59952
2025-07-15 22:09:48,998 - livekit.agents - INFO - starting worker
2025-07-15 22:09:49,030 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,030 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,031 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,039 - livekit.agents - INFO - initializing job runner
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - job runner initialized
2025-07-15 22:09:49,061 - livekit.agents - INFO - see tracing information at http://localhost:59952/debug
2025-07-15 22:09:49,162 - livekit.agents - INFO - registered worker
2025-07-15 22:40:39,121 - livekit.agents - INFO - worker is at full capacity, marking as unavailable
2025-07-15 22:40:39,134 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 692, in _connection_task
    await self._run_ws(ws)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 773, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 736, in _recv_task
    msg = await ws.receive()
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client_ws.py", line 378, in receive
    await self.pong(msg.data)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client_ws.py", line 234, in pong
    await self._writer.send_frame(message, WSMsgType.PONG)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-07-15 22:40:39,234 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\asyncio\base_events.py", line 901, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 653, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host pamtestdrive-euxn3osq.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-07-15 22:40:41,389 - livekit.agents - WARNING - failed to connect to livekit, retrying in 4s
Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\asyncio\base_events.py", line 901, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 653, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host pamtestdrive-euxn3osq.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-07-16 00:56:06,371 - livekit.agents - WARNING - failed to connect to livekit, retrying in 6s
Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\asyncio\base_events.py", line 901, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 653, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host pamtestdrive-euxn3osq.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-07-16 00:56:13,932 - livekit.agents - INFO - registered worker
2025-07-16 00:56:28,980 - livekit.agents - INFO - worker is below capacity, marking as available
2025-07-16 00:56:31,499 - livekit.agents - INFO - worker is at full capacity, marking as unavailable
2025-07-16 01:42:11,502 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.14 seconds
2025-07-16 01:42:11,518 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,518 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,518 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,519 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,520 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,520 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,521 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,522 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,523 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,524 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,524 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,524 - livekit.agents - WARNING - Running <Task pending name='load_task' coro=<Worker.run.<locals>._load_task() running at C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\utils\log.py:16> wait_for=<Future pending cb=[_chain_future.<locals>._call_check_cancel() at C:\Program Files\Python312\Lib\asyncio\futures.py:387, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Program Files\Python312\Lib\asyncio\tasks.py:767]> took too long: 2732.16 seconds
2025-07-16 01:42:11,542 - livekit.agents - WARNING - failed to connect to livekit, retrying in 0s
Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 692, in _connection_task
    await self._run_ws(ws)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 773, in _run_ws
    await asyncio.gather(*tasks)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 728, in _send_task
    await ws.send_bytes(msg.SerializeToString())
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client_ws.py", line 252, in send_bytes
    await self._writer.send_frame(data, WSMsgType.BINARY, compress=compress)
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\_websocket\writer.py", line 126, in send_frame
    raise ClientConnectionResetError("Cannot write to closing transport")
aiohttp.client_exceptions.ClientConnectionResetError: Cannot write to closing transport
2025-07-16 01:42:11,600 - livekit.agents - WARNING - failed to connect to livekit, retrying in 2s
Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1532, in _create_direct_connection
    hosts = await self._resolve_host(host, port, traces=traces)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1148, in _resolve_host
    return await asyncio.shield(resolved_host_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1179, in _resolve_host_with_throttle
    addrs = await self._resolver.resolve(host, port, family=self._family)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\resolver.py", line 40, in resolve
    infos = await self._loop.getaddrinfo(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\asyncio\base_events.py", line 901, in getaddrinfo
    return await self.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\Python312\Lib\socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\livekit\agents\worker.py", line 653, in _connection_task
    ws = await self._http_session.ws_connect(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 1067, in _ws_connect
    resp = await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 770, in _request
    resp = await handler(req)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\client.py", line 725, in _connect_and_send_request
    conn = await self._connector.connect(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 642, in connect
    proto = await self._create_connection(req, traces, timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1209, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\y.djemai\pam-testdrive\MARK_I\backend_python\agents\venv\Lib\site-packages\aiohttp\connector.py", line 1538, in _create_direct_connection
    raise ClientConnectorDNSError(req.connection_key, exc) from exc
aiohttp.client_exceptions.ClientConnectorDNSError: Cannot connect to host pamtestdrive-euxn3osq.livekit.cloud:443 ssl:default [getaddrinfo failed]
2025-07-16 01:42:15,928 - livekit.agents - INFO - registered worker
2025-07-16 01:42:45,877 - livekit.agents - INFO - draining worker
2025-07-16 01:42:45,882 - livekit.agents - INFO - shutting down worker
